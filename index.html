<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Hello World</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="images/hello-icon-152.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="white"/>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Hello World">
  <meta name="msapplication-TileImage" content="images/hello-icon-144.png">
  <meta name="msapplication-TileColor" content="#FFFFFF">
</head>
<body class="fullscreen">
  <div class="container">

<div class="artists">
  <div class="artist-image">
  </div>
  <div class="player-container">
    <div class="grid">
      <div class="heading">K&uuml;nstler:</div><div id="artist"></div>
      <div style="flex-basis: 100%; line-height: 1px; height: 2px;"></div>
      <div class="heading">Titel:</div><div id="songtitle"></div>
      <div style="flex-basis: 100%; line-height: 1px; height: 2px;"></div>
      <div class="heading">Bereich:</div><div id="range">&nbsp;</div>
    </div>

    <audio controls id="audio_player3"></audio>
  </div>
</div>

<img src="images/artists/chaka-khan.jpg">
<img src="images/artists/nate-smith.jpg">
<audio controls src="mp3/chaka-khan-a-night-in-tunisia.mp3"></audio>
<audio controls src="mp3/Pages.mp3"></audio>

<br><br>

<h2>Nate Smith</h2>

<button onclick="play('Pages.mp3', 90, 105)">Pages (1:30 - 1:45)</button><br>
<button onclick="play('Pages.mp3', 120, 150)">Pages (2:00 - 2:30)</button><br>
<button onclick="play('Pages.mp3', 185, 192)">Pages (3:05 - 3:12)</button><br>

<h2>Chaka Khan</h2>

<button style="color: green" onclick="play('chaka-khan-a-night-in-tunisia.mp3')">Night in Tunisia (complete)</button><br>
<button style="color: green" onclick="play('chaka-khan-a-night-in-tunisia.mp3', 0, 18)">Night in Tunisia (0:00 - 0:18)</button><br>
<button style="color: green" onclick="play('chaka-khan-a-night-in-tunisia.mp3', 100, 116)">Night in Tunisia Synth Solo (1:40 - 2:56)</button><br>
<button style="color: green" onclick="play('chaka-khan-a-night-in-tunisia.mp3', 195, 213)">Night in Tunisia Shout Chorus (3:15 - 3:33)</button><br>
<button style="color: green" onclick="play('chaka-khan-a-night-in-tunisia.mp3', 180)">Night in Tunisia (3:00 - end)</button><br>

<script>
    var audioplayer = document.getElementById('audio_player3');

    function pad(num, size) {
        return ('000000000' + num).substr(-size);
    }

    function formatTime(seconds) {
        var min = parseInt(seconds / 60);
        var sec_amount = seconds % 60;
        var text = pad(min, 2) + ':' + pad(sec_amount, 2);

        return text;
    }

    function play(filename, start, end) {
        audioplayer.src = 'mp3/' + filename + (start !== undefined ? '#t=' + start + ',' + (end || 1000) : '');
        audioplayer.play();

        var length = filename.indexOf('.mp3');
        var artist = '';
        var name = filename.substr(0, length);
        var title;
        var imagename = '';

        if (name == 'chaka-khan-a-night-in-tunisia') {
          artist = "Chaka Khan";
          title = "A Night in Tunisia";
          imagename = 'chaka-khan.jpg';
        }

        if (name == 'Pages') {
          artist = "Nate Smith";
          title = "Pages";
          imagename = 'nate-smith.jpg';
        }

        var range = '&nbsp;';

        if (start !== undefined) {
            range = 'von ' + formatTime(start) + ' bis ' + (end ? formatTime(end) : 'Ende');
        }

        document.getElementById('artist').innerText = artist;
        document.getElementById('songtitle').innerText = title;
        document.getElementById('range').innerHTML = range;
        document.querySelector('.artist-image').style.backgroundImage = 'url(images/artists/' + imagename + ')';
    }
</script>

  </div>
  <script src="js/main.js"></script>
</body>
</html>